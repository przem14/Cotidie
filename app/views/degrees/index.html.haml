%p#notice= notice
.switch_panel
  - if current_user.role == 'admin'
    =link_to @language.users, users_path
  - if current_user.role != 'tutor'
    = link_to @language.classes, school_classes_path
  = link_to @language.subjects, subjects_path
  %b= @language.degrees

%br

%center
  %p= @language.choose_subject

  %form{:action => new_degree_path, :method => :get}
    = select_tag :subject_id, options_for_select(@subjects.map { |subject| [subject.name_with_class, subject.id] })
    .actions
    = submit_tag @language.insert_degrees, :name => nil

%br

- for school_class in @classes
  %center
    %h2= school_class.name
  - for subject in school_class.subjects
    %center
      %h3= subject.name
    %table
      %tr
        %th= @language.name
        %th= @language.surname
        %th= @language.degrees

      - for student in school_class.students
        %tr
          %td= student.name
          %td= student.surname
          %td
            - for degree in student.degrees_by_subject(subject.id)
              = link_to degree.value, degree
              - if current_user.role == 'admin' or current_user.role == 'teacher'
                %span{:style => 'font-size: 6.5pt'}= '('
                = link_to @language.edit, edit_degree_path(degree), :style => 'font-size: 6.5pt'
                %span{:style => 'font-size: 6.5pt'}= '|'
                = link_to @language.delete, degree, :method => :delete, :style => 'font-size: 6.5pt',
                                                                        :data => { :confirm => @language.sure }
                %span{:style => 'font-size: 6.5pt'}= ')'

    %br
